//使用 ScanKey() 讀取鍵盤輸入（數字鍵 1~9）。
使用者依序輸入兩個數字，系統在 LCD 上顯示：
加法 a + b

減法 a - b

乘法 a * b

除法 a / b（除數為 0 時顯示錯誤）
七段顯示器：
顯示第一個數字在第 3 位（最左）
顯示第二個數字在第 0 位（最右）


#include <stdio.h>
#include "NUC100Series.h"
#include "MCU_init.h"
#include "SYS_init.h"
#include "Scankey.h"
#include "Seven_Segment.h"
#include "LCD.h"

int main(void)
{
    char text[16] = "";         
    int last;                   
    int scan;                   
    int a[2] = {-1, -1};        
    int i = 0;                  
    
    // 初始化系統與周邊
    SYS_Init();
    OpenSevenSegment();
    OpenKeyPad();
    init_LCD();
    clear_LCD();
    
    while (1)
    {
        scan = ScanKey();  
        
        
        if (last != scan && scan != 0)
        {
            a[i] = scan;  
            i++;
            
            
            if (i == 2)
            {
                i = 0;  
                clear_LCD();  
                
                
                sprintf(text, "%d + %d = %d", a[0], a[1], a[0] + a[1]);
                print_Line(0, text);
                
                
                sprintf(text, "%d - %d = %d", a[0], a[1], a[0] - a[1]);
                print_Line(1, text);
                
                
                sprintf(text, "%d * %d = %d", a[0], a[1], a[0] * a[1]);
                print_Line(2, text);
                
                // 除法（避免除以 0）
                if (a[1] != 0) 
                {
                    sprintf(text, "%d / %d = %d", a[0], a[1], a[0] / a[1]);
                }
                else
                {
                    sprintf(text, "%d / %d = Error", a[0], a[1]);
                }
                print_Line(3, text);
            }
        }
        
        // 顯示第一個輸入數字（在第 3 號七段顯示器）
        CloseSevenSegment();
        if (a[0] != -1)
        {
            ShowSevenSegment(3, a[0]);
        }
        CLK_SysTickDelay(5000);
        
        // 顯示第二個輸入數字（在第 0 號七段顯示器）
        CloseSevenSegment();
        if (a[1] != -1)
        {
            ShowSevenSegment(0, a[1]);
        }
        CLK_SysTickDelay(5000);
        
        last = scan;  
    }
}
